import{_ as m,r as e,o as a,c as t,d as Q,a as s,w as l,e as o,b as T}from"./app.6d6d6f97.js";const H1=JSON.parse('{"title":"虚拟运行时间计算","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. 权重初始化","slug":"_1-权重初始化","link":"#_1-权重初始化","children":[]},{"level":2,"title":"2. 计算过程","slug":"_2-计算过程","link":"#_2-计算过程","children":[]},{"level":2,"title":"3. 小结","slug":"_3-小结","link":"#_3-小结","children":[]}],"relativePath":"linux/process/weight/weight.md"}'),d={name:"linux/process/weight/weight.md"},i=T("",10),c={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.016ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.208ex",height:"5.115ex",role:"img",focusable:"false",viewBox:"0 -1370 17772 2261","aria-hidden":"true"},F=T("",1),y=[F],g=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"v"),Q("mi",null,"r"),Q("mi",null,"u"),Q("mi",null,"n"),Q("mi",null,"t"),Q("mi",null,"i"),Q("mi",null,"m"),Q("mi",null,"e"),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"c"),Q("mi",null,"e"),Q("mi",{mathvariant:"normal"},"_"),Q("mn",null,"0"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t")]),Q("mrow",null,[Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t")])])],-1),u=Q("p",null,"但是这个公式计算过程中有除法，为了提高计算效率，我们需要对公式做一个变换，使它更加适合CPU的习惯。变换过程如下：",-1),H={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.016ex"},xmlns:"http://www.w3.org/2000/svg",width:"52.303ex",height:"5.432ex",role:"img",focusable:"false",viewBox:"0 -1509.9 23118.1 2400.9","aria-hidden":"true"},w=T("",1),M=[w],f=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"v"),Q("mi",null,"r"),Q("mi",null,"u"),Q("mi",null,"n"),Q("mi",null,"t"),Q("mi",null,"i"),Q("mi",null,"m"),Q("mi",null,"e"),Q("mo",null,"="),Q("mfrac",null,[Q("mrow",null,[Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"c"),Q("mi",null,"e"),Q("mi",{mathvariant:"normal"},"_"),Q("mn",null,"0"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("msup",null,[Q("mn",null,"2"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"32")])])]),Q("mrow",null,[Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t")])]),Q("mo",null,">>"),Q("mn",null,"32")],-1),Z={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.016ex"},xmlns:"http://www.w3.org/2000/svg",width:"46.003ex",height:"5.432ex",role:"img",focusable:"false",viewBox:"0 -1509.9 20333.2 2400.9","aria-hidden":"true"},k=T("",1),_=[k],D=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mo",null,"="),Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"c"),Q("mi",null,"e"),Q("mi",{mathvariant:"normal"},"_"),Q("mn",null,"0"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("mfrac",null,[Q("msup",null,[Q("mn",null,"2"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"32")])]),Q("mrow",null,[Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t")])]),Q("mo",null,">>"),Q("mn",null,"32")],-1),x={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"49.374ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -694 21823.2 899","aria-hidden":"true"},E=T("",1),v=[E],A=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mo",null,"="),Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"n"),Q("mi",null,"i"),Q("mi",null,"c"),Q("mi",null,"e"),Q("mi",{mathvariant:"normal"},"_"),Q("mn",null,"0"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("mi",null,"i"),Q("mi",null,"n"),Q("mi",null,"v"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,">>"),Q("mn",null,"32")],-1),C={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.108ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.7ex",height:"3.334ex",role:"img",focusable:"false",viewBox:"0 -983.7 2519.6 1473.6","aria-hidden":"true"},I=T("",1),P=[I],j=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[Q("mfrac",null,[Q("msup",null,[Q("mn",null,"2"),Q("mrow",{"data-mjx-texclass":"ORD"},[Q("mn",null,"32")])]),Q("mrow",null,[Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t")])])],-1),B=T("",3),N={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},R={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.754ex",height:"2.084ex",role:"img",focusable:"false",viewBox:"0 -716 14919.1 921","aria-hidden":"true"},O=T("",1),z=[O],G=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"f"),Q("mi",null,"a"),Q("mi",null,"c"),Q("mi",null,"t"),Q("mo",null,"="),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"="),Q("mi",null,"N"),Q("mi",null,"I"),Q("mi",null,"C"),Q("mi",null,"E"),Q("mi",{mathvariant:"normal"},"_"),Q("mn",null,"0"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"L"),Q("mi",null,"O"),Q("mi",null,"A"),Q("mi",null,"D")],-1),J={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.642ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 19731.6 910","aria-hidden":"true"},q=T("",1),W=[q],$=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"f"),Q("mi",null,"a"),Q("mi",null,"c"),Q("mi",null,"t"),Q("mo",null,"="),Q("mi",null,"f"),Q("mi",null,"a"),Q("mi",null,"c"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("mi",null,"i"),Q("mi",null,"n"),Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"w")]),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"="),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("mi",null,"i"),Q("mi",null,"n"),Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"w")]),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t")],-1),X={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"39.214ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 17332.6 910","aria-hidden":"true"},Y=T("",1),Q1=[Y],T1=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"v"),Q("mi",null,"r"),Q("mi",null,"u"),Q("mi",null,"n"),Q("mi",null,"t"),Q("mi",null,"i"),Q("mi",null,"m"),Q("mi",null,"e"),Q("mo",null,"="),Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"f"),Q("mi",null,"a"),Q("mi",null,"c"),Q("mi",null,"t"),Q("mo",null,">>"),Q("mi",null,"s"),Q("mi",null,"h"),Q("mi",null,"i"),Q("mi",null,"f"),Q("mi",null,"t")],-1),a1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"65.166ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -694 28803.4 899","aria-hidden":"true"},s1=T("",1),n1=[s1],l1=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"v"),Q("mi",null,"r"),Q("mi",null,"u"),Q("mi",null,"n"),Q("mi",null,"t"),Q("mi",null,"i"),Q("mi",null,"m"),Q("mi",null,"e"),Q("mo",null,"="),Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("mi",null,"i"),Q("mi",null,"n"),Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"w")]),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,">>"),Q("mi",null,"W"),Q("mi",null,"M"),Q("mi",null,"U"),Q("mi",null,"L"),Q("msub",null,[Q("mi",null,"T"),Q("mi",null,"S")]),Q("mi",null,"H"),Q("mi",null,"I"),Q("mi",null,"F"),Q("mi",null,"T")],-1),e1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"50.426ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -694 22288.3 899","aria-hidden":"true"},r1=T("",1),p1=[r1],m1=Q("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[Q("mi",null,"v"),Q("mi",null,"r"),Q("mi",null,"u"),Q("mi",null,"n"),Q("mi",null,"t"),Q("mi",null,"i"),Q("mi",null,"m"),Q("mi",null,"e"),Q("mo",null,"="),Q("mi",null,"d"),Q("mi",null,"e"),Q("mi",null,"l"),Q("mi",null,"t"),Q("mi",null,"a"),Q("mi",{mathvariant:"normal"},"_"),Q("mi",null,"e"),Q("mi",null,"x"),Q("mi",null,"e"),Q("mi",null,"c"),Q("mo",null,"∗"),Q("mi",null,"w"),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,"∗"),Q("mi",null,"i"),Q("mi",null,"n"),Q("msub",null,[Q("mi",null,"v"),Q("mi",null,"w")]),Q("mi",null,"e"),Q("mi",null,"i"),Q("mi",null,"g"),Q("mi",null,"h"),Q("mi",null,"t"),Q("mo",null,">>"),Q("mn",null,"32")],-1),d1=T("",5);function i1(r,c1,h1,F1,y1,g1){const n=e("mjx-assistive-mml"),p=e("Vssue");return a(),t("div",null,[i,Q("mjx-container",c,[(a(),t("svg",h,y)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[g]),_:1})]),u,Q("mjx-container",H,[(a(),t("svg",L,M)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[f]),_:1})]),Q("mjx-container",Z,[(a(),t("svg",b,_)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[D]),_:1})]),Q("mjx-container",x,[(a(),t("svg",V,v)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[A]),_:1})]),Q("p",null,[o("其中的"),Q("mjx-container",C,[(a(),t("svg",S,P)),s(n,{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},{default:l(()=>[j]),_:1})]),o("，因为对于CFS调度的进程NICE值只有40个，也就是从-20～19.这40个NICE值，我们把它们转化为权重值，也就是 sched_prio_to_weight 这个数组,因此这个值也可以提前计算好放入 sched_prio_to_wmult 这个数组，这样使用的时候直接使用。")]),B,Q("mjx-container",N,[(a(),t("svg",R,z)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[G]),_:1})]),Q("mjx-container",J,[(a(),t("svg",U,W)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[$]),_:1})]),Q("mjx-container",X,[(a(),t("svg",K,Q1)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[T1]),_:1})]),Q("mjx-container",a1,[(a(),t("svg",t1,n1)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[l1]),_:1})]),Q("mjx-container",e1,[(a(),t("svg",o1,p1)),s(n,{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},{default:l(()=>[m1]),_:1})]),d1,s(p,{title:r.$title},null,8,["title"])])}const L1=m(d,[["render",i1]]);export{H1 as __pageData,L1 as default};
